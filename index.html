<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz: Histórias 54 e 55</title>
    <style>
        body {
            font-family: sans-serif;
            background-color: #f0f8ff;
            color: #333;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        h1, h2 {
            text-align: center;
            color: #005a9c;
        }
        h3 {
            color: #005a9c;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 5px;
            margin-top: 30px;
        }
        .pergunta {
            background-color: #ffffff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .pergunta p {
            font-weight: bold;
            margin-top: 0;
        }
        .opcoes label {
            display: block;
            margin-bottom: 8px;
            cursor: pointer;
            padding: 5px;
            border-radius: 4px;
        }
        .opcoes label:hover {
            background-color: #f1f1f1;
        }
        .feedback {
            margin-top: 10px;
            font-weight: bold;
            display: none;
            padding: 8px;
            border-radius: 5px;
        }
        .correto {
            background-color: #d4edda;
            color: #155724;
        }
        .incorreto {
            background-color: #f8d7da;
            color: #721c24;
        }
        .btn-verificar {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #005a9c;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
        }
        .btn-verificar:hover {
            background-color: #004080;
        }
        .resultado {
            margin-top: 30px;
            padding: 20px;
            background-color: #e2e3e5;
            border-radius: 8px;
            text-align: center;
            display: none; 
        }
        .language-switch {
            text-align: right;
            margin-bottom: 20px;
        }
        .language-switch button {
            padding: 5px 10px;
            cursor: pointer;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .language-switch button.active {
            background-color: #005a9c;
            color: white;
            border-color: #005a9c;
        }
    </style>
</head>
<body>

    <div class="language-switch">
        <button onclick="mudarIdioma('pt')" id="btn-pt" class="active">Português</button>
        <button onclick="mudarIdioma('en')" id="btn-en">English</button>
    </div>

    <div id="conteudo-pt">
        <h1>Quiz: Histórias 54 e 55</h1>
        <p style="text-align: center;">Baseado no livro <em>Aprenda com as Histórias da Bíblia</em></p>
        
        <div id="quiz-pt"></div>
        <button class="btn-verificar" onclick="verificarRespostas('pt')">Verificar Respostas</button>
        <div id="resultado-pt" class="resultado"></div>
    </div>

    <div id="conteudo-en" style="display: none;">
        <h1>Quiz: Stories 54 and 55</h1>
        <p style="text-align: center;">Based on the book <em>Lessons You Can Learn From the Bible</em></p>

        <div id="quiz-en"></div>
        <button class="btn-verificar" onclick="verificarRespostas('en')">Check Answers</button>
        <div id="resultado-en" class="resultado"></div>
    </div>

    <script>
        const mensagensResultado = {
            pt: {
                titulo: "Resultado",
                texto: (pontuacao, total) => `Você acertou <strong>${pontuacao}</strong> de <strong>${total}</strong> perguntas!`,
                niveis: ["Continue estudando! Jeová fica feliz com seu esforço.", "Muito bem! Você conhece bem essas histórias!", "Incrível! Parabéns pelo ótimo resultado!"]
            },
            en: {
                titulo: "Result",
                texto: (pontuacao, total) => `You got <strong>${pontuacao}</strong> out of <strong>${total}</strong> right!`,
                niveis: ["Keep studying! Jehovah is happy with your effort.", "Well done! You know these stories well!", "Amazing! Congratulations on the great result!"]
            }
        };

        const perguntas = {
            pt: [
                // HISTÓRIA 54
                { pergunta: "1. Para qual cidade Jeová mandou Jonas ir pregar?", opcoes: ["Jerusalém", "Nínive", "Tarsis"], correta: 1, feedback: "Correto! Nínive era uma cidade muito grande." },
                { pergunta: "2. O que Jonas fez ao receber a missão?", opcoes: ["Fugiu em um barco para Tarsis", "Foi correndo para Nínive", "Escondeu-se numa caverna"], correta: 0, feedback: "Isso mesmo, ele tentou fugir pelo mar." },
                { pergunta: "3. O que Jeová enviou enquanto Jonas estava no barco?", opcoes: ["Um vento suave", "Uma chuva de pedras", "Uma grande tempestade"], correta: 2, feedback: "Certo! A tempestade quase quebrou o barco." },
                { pergunta: "4. Quando os marinheiros jogaram Jonas no mar, o que aconteceu?", opcoes: ["O mar virou gelo", "A tempestade parou", "Jonas nadou até a praia"], correta: 1, feedback: "Exato! O mar se acalmou imediatamente." },
                { pergunta: "5. Quem salvou Jonas de se afogar?", opcoes: ["Um grande peixe", "Um navio vizinho", "Um anjo"], correta: 0, feedback: "Correto! O peixe engoliu Jonas para salvá-lo." },
                { pergunta: "6. Por quanto tempo Jonas ficou dentro do peixe?", opcoes: ["1 dia", "5 dias", "3 dias"], correta: 2, feedback: "Isso! 3 dias e 3 noites." },
                { pergunta: "7. Jonas orou dentro do peixe. O que ele prometeu?", opcoes: ["Que nunca mais viajaria de barco", "Que obedeceria a Jeová", "Que ficaria morando no mar"], correta: 1, feedback: "Certo! Ele se arrependeu e prometeu obedecer." },
                { pergunta: "8. Os moradores de Nínive mudaram de atitude?", opcoes: ["Não, eles continuaram maus", "Sim, eles se arrependeram", "Eles fugiram da cidade"], correta: 1, feedback: "Sim! Eles pararam de fazer coisas erradas." },
                { pergunta: "9. Que planta Jeová usou para dar sombra a Jonas?", opcoes: ["Um pé de maçã", "Uma palmeira", "Um cabaceiro"], correta: 2, feedback: "Isso mesmo! Jeová usou a planta para ensinar Jonas." },
                { pergunta: "10. O que aprendemos sobre Jeová aqui?", opcoes: ["Ele é impaciente", "Ele é paciente e misericordioso", "Ele desiste das pessoas"], correta: 1, feedback: "Excelente! Jeová dá chances para mudarmos." },
                // HISTÓRIA 55
                { pergunta: "11. Como era o rei Ezequias?", opcoes: ["Um rei bom que amava a Jeová", "Um rei que adorava ídolos", "Um rei que tinha medo de tudo"], correta: 0, feedback: "Correto! Ele foi um dos melhores reis de Judá." },
                { pergunta: "12. Quem enviou cartas ameaçando Jerusalém?", opcoes: ["Os egípcios", "Senaqueribe, rei da Assíria", "Os babilônios"], correta: 1, feedback: "Isso! Senaqueribe queria que o povo se rendesse." },
                { pergunta: "13. O que Ezequias fez com as cartas ameaçadoras?", opcoes: ["Rasgou e jogou fora", "Escondeu do povo", "Levou ao templo e orou a Jeová"], correta: 2, feedback: "Exato! Ele buscou a ajuda de Jeová no templo." },
                { pergunta: "14. Qual profeta disse que Jeová protegeria a cidade?", opcoes: ["Isaías", "Jonas", "Daniel"], correta: 0, feedback: "Certo! Isaías trouxe a mensagem de consolo." },
                { pergunta: "15. Como Jeová derrotou o enorme exército assírio?", opcoes: ["Mandou um dilúvio", "Enviou um anjo para lutar", "Fez a terra se abrir"], correta: 1, feedback: "Correto! Um anjo derrotou o exército em uma noite." },
                { pergunta: "16. Quantos soldados o anjo destruiu?", opcoes: ["50.000", "100.000", "185.000"], correta: 2, feedback: "Isso mesmo! 185 mil soldados." },
                { pergunta: "17. Ezequias ficou muito doente. O que ele fez?", opcoes: ["Pediu ajuda a outros deuses", "Orou a Jeová chorando", "Desistiu de viver"], correta: 1, feedback: "Isso! Ele confiou em Jeová até na doença." },
                { pergunta: "18. Quantos anos a mais de vida Jeová deu a ele?", opcoes: ["15 anos", "10 anos", "5 anos"], correta: 0, feedback: "Correto! Jeová ouviu a oração e o curou." },
                { pergunta: "19. Que sinal Jeová deu para mostrar que ele seria curado?", opcoes: ["Fez chover fogo", "Fez a sombra recuar dez degraus", "Fez o sol parar"], correta: 1, feedback: "Exato! Um milagre incrível na sombra." },
                { pergunta: "20. O que aprendemos sobre a oração?", opcoes: ["Só os reis são ouvidos", "Jeová ouve as orações de quem confia nele", "Orar não muda nada"], correta: 1, feedback: "Muito bem! A oração nos aproxima de Jeová." }
            ],
            en: [
                // STORIES 54 & 55 ENGLISH
                { pergunta: "1. Where did Jehovah send Jonah to preach?", opcoes: ["Jerusalem", "Nineveh", "Tarshish"], correta: 1, feedback: "Correct!" },
                { pergunta: "2. What did Jonah do?", opcoes: ["Ran away on a boat", "Ran to Nineveh", "Hid in a cave"], correta: 0, feedback: "That's right, he tried to run away." },
                { pergunta: "3. What did Jehovah send to the boat?", opcoes: ["Soft wind", "Hailstorm", "A great storm"], correta: 2, feedback: "Correct!" },
                { pergunta: "4. When Jonah was thrown overboard, what happened?", opcoes: ["Sea turned to ice", "Storm stopped", "He swam to shore"], correta: 1, feedback: "Exactly!" },
                { pergunta: "5. Who saved Jonah from drowning?", opcoes: ["A big fish", "A nearby ship", "An angel"], correta: 0, feedback: "Correct!" },
                { pergunta: "6. How long was Jonah inside the fish?", opcoes: ["1 day", "5 days", "3 days"], correta: 2, feedback: "Yes! 3 days." },
                { pergunta: "7. What did Jonah promise Jehovah?", opcoes: ["No more boats", "To obey him", "To live at sea"], correta: 1, feedback: "Correct!" },
                { pergunta: "8. Did the people of Nineveh change?", opcoes: ["No", "Yes, they repented", "They ran away"], correta: 1, feedback: "Yes!" },
                { pergunta: "9. What plant gave Jonah shade?", opcoes: ["Apple tree", "Palm tree", "Bottle-gourd plant"], correta: 2, feedback: "Correct!" },
                { pergunta: "10. What do we learn about Jehovah?", opcoes: ["He is impatient", "He is patient and merciful", "He gives up"], correta: 1, feedback: "Excellent!" },
                { pergunta: "11. What kind of king was Hezekiah?", opcoes: ["A good king", "An idol worshiper", "A fearful king"], correta: 0, feedback: "Correct!" },
                { pergunta: "12. Who threatened Jerusalem?", opcoes: ["Egyptians", "Sennacherib, king of Assyria", "Babylonians"], correta: 1, feedback: "Correct!" },
                { pergunta: "13. What did Hezekiah do with the letters?", opcoes: ["Burned them", "Hid them", "Prayed to Jehovah"], correta: 2, feedback: "Exactly!" },
                { pergunta: "14. Which prophet brought comfort?", opcoes: ["Isaiah", "Jonah", "Daniel"], correta: 0, feedback: "Correct!" },
                { pergunta: "15. How did Jehovah defeat the army?", opcoes: ["A flood", "Sent an angel", "Opened the earth"], correta: 1, feedback: "Correct!" },
                { pergunta: "16. How many soldiers did the angel destroy?", opcoes: ["50,000", "100,000", "185,000"], correta: 2, feedback: "Correct!" },
                { pergunta: "17. Hezekiah got sick. What did he do?", opcoes: ["Asked other gods", "Prayed to Jehovah", "Gave up"], correta: 1, feedback: "Correct!" },
                { pergunta: "18. How many more years did he live?", opcoes: ["15 years", "10 years", "5 years"], correta: 0, feedback: "Correct!" },
                { pergunta: "19. What sign did Jehovah give?", opcoes: ["Fire rain", "The shadow went back", "Sun stopped"], correta: 1, feedback: "Correct!" },
                { pergunta: "20. What do we learn about prayer?", opcoes: ["Only kings are heard", "Jehovah hears those who trust him", "Prayer doesn't work"], correta: 1, feedback: "Well done!" }
            ]
        };

        function mudarIdioma(lang) {
            document.getElementById('conteudo-pt').style.display = 'none';
            document.getElementById('conteudo-en').style.display = 'none';
            document.getElementById('btn-pt').classList.remove('active');
            document.getElementById('btn-en').classList.remove('active');
            document.getElementById(`conteudo-${lang}`).style.display = 'block';
            document.getElementById(`btn-${lang}`).classList.add('active');
            renderizarQuiz(lang);
        }

        function renderizarQuiz(lang) {
            const container = document.getElementById(`quiz-${lang}`);
            const data = perguntas[lang];
            const resultadoDiv = document.getElementById(`resultado-${lang}`);
            resultadoDiv.style.display = 'none';
            document.querySelector(`#conteudo-${lang} .btn-verificar`).style.display = 'block';

            let html = '';
            data.forEach((item, index) => {
                let opcoesHtml = '';
                item.opcoes.forEach((opcao, i) => {
                    opcoesHtml += `<label><input type="radio" name="p-${lang}-${index}" value="${i}"> ${opcao}</label>`;
                });
                html += `<div class="pergunta"><p>${item.pergunta}</p><div class="opcoes">${opcoesHtml}</div><div class="feedback" id="feedback-${lang}-${index}"></div></div>`;
            });
            container.innerHTML = html;
        }

        function verificarRespostas(lang) {
            const data = perguntas[lang];
            let pontuacao = 0;
            let todasRespondidas = true;

            for (let i = 0; i < data.length; i++) {
                const respondida = document.querySelector(`input[name="p-${lang}-${i}"]:checked`);
                if (!respondida) { todasRespondidas = false; break; }
            }

            if (!todasRespondidas) {
                alert(lang === 'pt' ? "Responda todas!" : "Answer all!");
                return;
            }

            data.forEach((item, i) => {
                const checked = document.querySelector(`input[name="p-${lang}-${i}"]:checked`);
                const feedbackEl = document.getElementById(`feedback-${lang}-${i}`);
                const val = parseInt(checked.value);
                
                document.getElementsByName(`p-${lang}-${i}`).forEach(r => r.disabled = true);

                if (val === item.correta) {
                    pontuacao++;
                    feedbackEl.textContent = item.feedback;
                    feedbackEl.className = "feedback correto";
                } else {
                    feedbackEl.textContent = (lang === 'pt' ? "Resposta: " : "Answer: ") + item.opcoes[item.correta];
                    feedbackEl.className = "feedback incorreto";
                }
                feedbackEl.style.display = 'block';
            });

            const res = document.getElementById(`resultado-${lang}`);
            res.style.display = 'block';
            res.innerHTML = `<h2>${mensagensResultado[lang].titulo}</h2><p>${mensagensResultado[lang].texto(pontuacao, data.length)}</p>`;
            document.querySelector(`#conteudo-${lang} .btn-verificar`).style.display = 'none';
        }

        document.addEventListener('DOMContentLoaded', () => mudarIdioma('pt'));
    </script>
</body>
</html>
