<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz: Histórias 50 e 51</title>
    <style>
        body {
            font-family: sans-serif;
            background-color: #f0f8ff;
            color: #333;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        h1, h2 {
            text-align: center;
            color: #005a9c;
        }
        h3 {
            color: #005a9c;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 5px;
            margin-top: 30px;
        }
        .pergunta {
            background-color: #ffffff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .pergunta p {
            font-weight: bold;
            margin-top: 0;
        }
        .opcoes label {
            display: block;
            margin-bottom: 8px;
            cursor: pointer;
        }
        .feedback {
            margin-top: 10px;
            font-weight: bold;
            display: none;
            padding: 8px;
            border-radius: 5px;
        }
        .correto {
            background-color: #d4edda;
            color: #155724;
        }
        .incorreto {
            background-color: #f8d7da;
            color: #721c24;
        }
        .btn-verificar {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #005a9c;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
        }
        .btn-verificar:hover {
            background-color: #004080;
        }
        .resultado {
            margin-top: 30px;
            padding: 20px;
            background-color: #e2e3e5;
            border-radius: 8px;
            text-align: center;
            display: none; 
        }
        .language-switch {
            text-align: right;
            margin-bottom: 20px;
        }
        .language-switch button {
            padding: 5px 10px;
            cursor: pointer;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .language-switch button.active {
            background-color: #005a9c;
            color: white;
            border-color: #005a9c;
        }
    </style>
</head>
<body>

    <div class="language-switch">
        <button onclick="mudarIdioma('pt')" id="btn-pt" class="active">Português</button>
        <button onclick="mudarIdioma('en')" id="btn-en">English</button>
    </div>

    <div id="conteudo-pt">
        <h1>Quiz: Histórias 50 e 51</h1>
        <p style="text-align: center;">Baseado no livro <em>Aprenda com as Histórias da Bíblia</em></p>
        
        <div id="quiz-pt"></div>
        <button class="btn-verificar" onclick="verificarRespostas('pt')">Verificar Respostas</button>
        <div id="resultado-pt" class="resultado"></div>
    </div>

    <div id="conteudo-en" style="display: none;">
        <h1>Quiz: Stories 50 and 51</h1>
        <p style="text-align: center;">Based on the book <em>Lessons You Can Learn From the Bible</em></p>

        <div id="quiz-en"></div>
        <button class="btn-verificar" onclick="verificarRespostas('en')">Check Answers</button>
        <div id="resultado-en" class="resultado"></div>
    </div>

    <script>
        const mensagensResultado = {
            pt: {
                titulo: "Resultado",
                texto: (pontuacao, total) => `Você acertou <strong>${pontuacao}</strong> de <strong>${total}</strong> perguntas!`,
                niveis: [
                    "Continue lendo as histórias! Você pode aprender muito mais.",
                    "Muito bem! Você prestou bastante atenção.",
                    "Excelente! Você conhece muito bem essas histórias da Bíblia!"
                ]
            },
            en: {
                titulo: "Result",
                texto: (pontuacao, total) => `You got <strong>${pontuacao}</strong> out of <strong>${total}</strong> questions right!`,
                niveis: [
                    "Keep reading the stories! You can learn so much more.",
                    "Very good! You paid close attention.",
                    "Excellent! You know these Bible stories very well!"
                ]
            }
        };

        const perguntas = {
            pt: [
                // HISTÓRIA 50 - Jeová defende Jeosafá
                {
                    pergunta: "1. Quem era Jeosafá?",
                    opcoes: ["Rei de Israel", "Rei de Judá", "Rei do Egito"],
                    correta: 1,
                    feedback: "Correto! Jeosafá era o rei de Judá."
                },
                {
                    pergunta: "2. O que Jeosafá fez quando soube que exércitos inimigos vinham atacar?",
                    opcoes: ["Ficou com medo e orou a Jeová", "Fugiu para o deserto", "Fez um acordo com o inimigo"],
                    correta: 0,
                    feedback: "Isso mesmo! Ele ficou com medo, mas orou pedindo ajuda a Jeová."
                },
                {
                    pergunta: "3. O que Jeová respondeu para o povo através de Jaaziel?",
                    opcoes: ["Fujam para as montanhas!", "A batalha não é de vocês, é de Deus", "Peguem suas espadas e lutem"],
                    correta: 1,
                    feedback: "Certo! Jeová disse: 'Não tenham medo. A batalha não é de vocês, é de Deus'."
                },
                {
                    pergunta: "4. Quem Jeosafá colocou na frente do exército?",
                    opcoes: ["Os melhores arqueiros", "Os cantores", "Os cavalos"],
                    correta: 1,
                    feedback: "Exato! Ele colocou cantores na frente para louvar a Jeová."
                },
                {
                    pergunta: "5. O que os cantores cantavam?",
                    opcoes: ["Dê graças a Jeová", "Vamos vencer a guerra", "Fujam inimigos"],
                    correta: 0,
                    feedback: "Correto! Eles cantavam: 'Dê graças a Jeová'."
                },
                {
                    pergunta: "6. O que aconteceu com os soldados inimigos?",
                    opcoes: ["Eles fugiram assustados", "Eles atacaram uns aos outros", "Eles se renderam"],
                    correta: 1,
                    feedback: "Isso! Jeová fez com que eles atacassem uns aos outros."
                },
                {
                    pergunta: "7. O exército de Jeosafá precisou lutar?",
                    opcoes: ["Sim, foi uma luta difícil", "Não, Jeová lutou por eles", "Sim, mas só um pouco"],
                    correta: 1,
                    feedback: "Certo! Eles não precisaram lutar. Jeová os protegeu."
                },
                {
                    pergunta: "8. Quantas nações se juntaram para atacar Jeosafá?",
                    opcoes: ["Uma", "Duas", "Três (Amom, Moabe e Seir)"],
                    correta: 2,
                    feedback: "Muito bem! Eram três nações: Amom, Moabe e o povo de Seir."
                },
                {
                    pergunta: "9. O que o povo fez quando voltou para Jerusalém?",
                    opcoes: ["Foram dormir", "Tocaram harpas e trombetas felizes", "Ficaram tristes"],
                    correta: 1,
                    feedback: "Isso! Eles voltaram muito felizes, tocando música para Jeová."
                },
                {
                    pergunta: "10. O que aprendemos com essa história?",
                    opcoes: ["Que devemos ter armas fortes", "Que devemos confiar em Jeová quando temos medo", "Que não precisamos fazer nada"],
                    correta: 1,
                    feedback: "Exatamente! Devemos confiar que Jeová cuida de nós."
                },
                // HISTÓRIA 51 - Naamã e a menininha israelita
                {
                    pergunta: "11. Quem era Naamã?",
                    opcoes: ["Um profeta de Israel", "Um chefe do exército da Síria", "Um rei de Judá"],
                    correta: 1,
                    feedback: "Correto! Naamã era um chefe importante do exército da Síria."
                },
                {
                    pergunta: "12. Que doença grave Naamã tinha?",
                    opcoes: ["Gripe", "Dor de cabeça", "Lepra"],
                    correta: 2,
                    feedback: "Isso mesmo! Ele tinha uma doença de pele chamada lepra."
                },
                {
                    pergunta: "13. Quem disse que Naamã poderia ser curado?",
                    opcoes: ["A esposa dele", "Uma menininha israelita", "O rei da Síria"],
                    correta: 1,
                    feedback: "Certo! A menininha israelita, que trabalhava na casa dele."
                },
                {
                    pergunta: "14. Para onde a menininha disse que Naamã devia ir?",
                    opcoes: ["Para o Egito", "Para Israel, ver o profeta de Jeová", "Para o deserto"],
                    correta: 1,
                    feedback: "Exato! Ela disse para ele ir ver o profeta de Jeová em Israel."
                },
                {
                    pergunta: "15. Quem era o profeta de Jeová nessa história?",
                    opcoes: ["Elias", "Eliseu", "Samuel"],
                    correta: 1,
                    feedback: "Correto! O profeta era Eliseu."
                },
                {
                    pergunta: "16. O que Eliseu mandou Naamã fazer?",
                    opcoes: ["Tomar um remédio", "Mergulhar 7 vezes no rio Jordão", "Dar muito dinheiro"],
                    correta: 1,
                    feedback: "Isso! Ele mandou Naamã mergulhar 7 vezes no rio Jordão."
                },
                {
                    pergunta: "17. Como Naamã reagiu no começo?",
                    opcoes: ["Ficou bravo e não queria ir", "Foi correndo para o rio", "Agradeceu ao profeta"],
                    correta: 0,
                    feedback: "Certo! Ele ficou orgulhoso e bravo, achando os rios da Síria melhores."
                },
                {
                    pergunta: "18. O que aconteceu quando Naamã obedeceu e mergulhou 7 vezes?",
                    opcoes: ["Nada aconteceu", "Ele ficou doente", "A pele dele ficou sã como a de um bebê"],
                    correta: 2,
                    feedback: "Muito bem! Ele foi curado e sua pele ficou limpinha."
                },
                {
                    pergunta: "19. Quem correu atrás de Naamã para pegar presentes escondido?",
                    opcoes: ["Eliseu", "Geazi, servo de Eliseu", "A menininha"],
                    correta: 1,
                    feedback: "Isso! Geazi foi ganancioso e correu atrás de Naamã."
                },
                {
                    pergunta: "20. O que aconteceu com Geazi por causa de sua mentira?",
                    opcoes: ["Ficou rico e feliz", "Pegou a lepra de Naamã", "Foi perdoado"],
                    correta: 1,
                    feedback: "Exatamente. Ele ficou leproso por ter sido ganancioso e mentiroso."
                }
            ],
            en: [
                // STORY 50 - Jehovah Defends Jehoshaphat
                {
                    pergunta: "1. Who was Jehoshaphat?",
                    opcoes: ["King of Israel", "King of Judah", "King of Egypt"],
                    correta: 1,
                    feedback: "Correct! Jehoshaphat was the king of Judah."
                },
                {
                    pergunta: "2. What did Jehoshaphat do when enemies came to attack?",
                    opcoes: ["He was afraid and prayed to Jehovah", "He ran to the desert", "He made a deal with the enemy"],
                    correta: 0,
                    feedback: "That's right! He was afraid, but he prayed to Jehovah for help."
                },
                {
                    pergunta: "3. What did Jehovah say to the people through Jahaziel?",
                    opcoes: ["Run to the mountains!", "The battle is not yours, but God's", "Take your swords and fight"],
                    correta: 1,
                    feedback: "Correct! Jehovah said: 'Do not be afraid. The battle is not yours, but God's'."
                },
                {
                    pergunta: "4. Who did Jehoshaphat put in front of the army?",
                    opcoes: ["The best archers", "The singers", "The horses"],
                    correta: 1,
                    feedback: "Exactly! He put singers in front to praise Jehovah."
                },
                {
                    pergunta: "5. What were the singers singing?",
                    opcoes: ["Give thanks to Jehovah", "We will win the war", "Run away enemies"],
                    correta: 0,
                    feedback: "Correct! They sang: 'Give thanks to Jehovah'."
                },
                {
                    pergunta: "6. What happened to the enemy soldiers?",
                    opcoes: ["They ran away scared", "They attacked each other", "They surrendered"],
                    correta: 1,
                    feedback: "Yes! Jehovah caused them to attack one another."
                },
                {
                    pergunta: "7. Did Jehoshaphat's army need to fight?",
                    opcoes: ["Yes, it was a hard fight", "No, Jehovah fought for them", "Yes, but just a little"],
                    correta: 1,
                    feedback: "Right! They didn't need to fight. Jehovah protected them."
                },
                {
                    pergunta: "8. How many nations joined to attack Jehoshaphat?",
                    opcoes: ["One", "Two", "Three (Ammon, Moab, and Seir)"],
                    correta: 2,
                    feedback: "Very good! There were three nations: Ammon, Moab, and the people of Seir."
                },
                {
                    pergunta: "9. What did the people do when they returned to Jerusalem?",
                    opcoes: ["Went to sleep", "Played harps and trumpets happily", "Were sad"],
                    correta: 1,
                    feedback: "That's it! They returned very happy, playing music for Jehovah."
                },
                {
                    pergunta: "10. What do we learn from this story?",
                    opcoes: ["To have strong weapons", "To trust in Jehovah when we are afraid", "That we don't need to do anything"],
                    correta: 1,
                    feedback: "Exactly! We must trust that Jehovah cares for us."
                },
                // STORY 51 - Naaman and the Little Israelite Girl
                {
                    pergunta: "11. Who was Naaman?",
                    opcoes: ["A prophet of Israel", "An army chief of Syria", "A king of Judah"],
                    correta: 1,
                    feedback: "Correct! Naaman was an important army chief of Syria."
                },
                {
                    pergunta: "12. What bad disease did Naaman have?",
                    opcoes: ["Flu", "Headache", "Leprosy"],
                    correta: 2,
                    feedback: "That's right! He had a skin disease called leprosy."
                },
                {
                    pergunta: "13. Who said Naaman could be cured?",
                    opcoes: ["His wife", "A little Israelite girl", "The king of Syria"],
                    correta: 1,
                    feedback: "Correct! The little Israelite girl who worked in his house."
                },
                {
                    pergunta: "14. Where did the little girl say Naaman should go?",
                    opcoes: ["To Egypt", "To Israel, to see Jehovah's prophet", "To the desert"],
                    correta: 1,
                    feedback: "Exactly! She said to go see Jehovah's prophet in Israel."
                },
                {
                    pergunta: "15. Who was Jehovah's prophet in this story?",
                    opcoes: ["Elijah", "Elisha", "Samuel"],
                    correta: 1,
                    feedback: "Correct! The prophet was Elisha."
                },
                {
                    pergunta: "16. What did Elisha tell Naaman to do?",
                    opcoes: ["Take medicine", "Dip 7 times in the Jordan River", "Give a lot of money"],
                    correta: 1,
                    feedback: "Yes! He told Naaman to dip 7 times in the Jordan River."
                },
                {
                    pergunta: "17. How did Naaman react at first?",
                    opcoes: ["He was angry and didn't want to go", "He ran to the river", "He thanked the prophet"],
                    correta: 0,
                    feedback: "Right! He was proud and angry, thinking the rivers in Syria were better."
                },
                {
                    pergunta: "18. What happened when Naaman obeyed and dipped 7 times?",
                    opcoes: ["Nothing happened", "He got sick", "His skin became healthy like a baby's"],
                    correta: 2,
                    feedback: "Very good! He was healed and his skin became clean."
                },
                {
                    pergunta: "19. Who ran after Naaman to get gifts secretly?",
                    opcoes: ["Elisha", "Gehazi, Elisha's servant", "The little girl"],
                    correta: 1,
                    feedback: "That's it! Gehazi was greedy and ran after Naaman."
                },
                {
                    pergunta: "20. What happened to Gehazi because of his lie?",
                    opcoes: ["He became rich and happy", "He got Naaman's leprosy", "He was forgiven"],
                    correta: 1,
                    feedback: "Exactly. He became a leper because he was greedy and lied."
                }
            ]
        };

        function mudarIdioma(lang) {
            // Esconde todos os conteúdos
            document.getElementById('conteudo-pt').style.display = 'none';
            document.getElementById('conteudo-en').style.display = 'none';
            
            // Remove classe active dos botões
            document.getElementById('btn-pt').classList.remove('active');
            document.getElementById('btn-en').classList.remove('active');

            // Mostra conteúdo selecionado
            document.getElementById(`conteudo-${lang}`).style.display = 'block';
            document.getElementById(`btn-${lang}`).classList.add('active');

            // Renderiza o quiz no idioma selecionado
            renderizarQuiz(lang);
        }

        function renderizarQuiz(lang) {
            const container = document.getElementById(`quiz-${lang}`);
            const data = perguntas[lang];
            const resultadoDiv = document.getElementById(`resultado-${lang}`);
            
            // Limpa resultado anterior se houver troca de idioma
            resultadoDiv.style.display = 'none';
            resultadoDiv.innerHTML = '';
            
            // Mostrar botão de verificar novamente
            const btn = document.querySelector(`#conteudo-${lang} .btn-verificar`);
            if(btn) btn.style.display = 'block';

            let html = '';
            
            data.forEach((item, index) => {
                let opcoesHtml = '';
                item.opcoes.forEach((opcao, i) => {
                    opcoesHtml += `
                        <label>
                            <input type="radio" name="p-${lang}-${index}" value="${i}">
                            ${opcao}
                        </label>
                    `;
                });

                html += `
                    <div class="pergunta" id="pergunta-${lang}-${index}">
                        <p>${item.pergunta}</p>
                        <div class="opcoes">${opcoesHtml}</div>
                        <div class="feedback" id="feedback-${lang}-${index}"></div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        function verificarRespostas(lang) {
            const data = perguntas[lang];
            let pontuacao = 0;
            const totalPerguntas = data.length;
            let todasRespondidas = true;

            // Verificar se todas foram respondidas
            for (let i = 0; i < totalPerguntas; i++) {
                const respondida = document.querySelector(`input[name="p-${lang}-${i}"]:checked`);
                if (!respondida) {
                    todasRespondidas = false;
                    break;
                }
            }

            if (!todasRespondidas) {
                alert(lang === 'pt' ? "Por favor, responda todas as perguntas." : "Please answer all questions.");
                return;
            }

            // Processar respostas
            for (let i = 0; i < totalPerguntas; i++) {
                const radios = document.getElementsByName(`p-${lang}-${i}`);
                const feedbackEl = document.getElementById(`feedback-${lang}-${i}`);
                let respostaUsuario = -1;

                radios.forEach(radio => {
                    if (radio.checked) {
                        respostaUsuario = parseInt(radio.value);
                    }
                    radio.disabled = true; // Desabilita após verificar
                });

                const correta = data[i].correta;
                
                if (respostaUsuario === correta) {
                    pontuacao++;
                    feedbackEl.textContent = data[i].feedback; // Mensagem personalizada de acerto
                    feedbackEl.className = "feedback correto";
                } else {
                    // Monta feedback de erro
                    let msg = lang === 'pt' ? "Incorreto. A resposta certa era: " : "Incorrect. The right answer was: ";
                    msg += data[i].opcoes[correta];
                    feedbackEl.textContent = msg;
                    feedbackEl.className = "feedback incorreto";
                }
                feedbackEl.style.display = 'block';
            }

            // Mostrar div de resultado
            const elementoResultado = document.getElementById(`resultado-${lang}`);
            const msgData = mensagensResultado[lang];
            let mensagemNivel = '';

            // Ajuste dos níveis de pontuação baseado no total de 20 perguntas
            if (pontuacao >= 17) {
                mensagemNivel = msgData.niveis[2];
            } else if (pontuacao >= 12) {
                mensagemNivel = msgData.niveis[1];
            } else {
                mensagemNivel = msgData.niveis[0];
            }

            elementoResultado.style.display = 'block';
            elementoResultado.innerHTML = `
                <h2>${msgData.titulo}</h2>
                <p>${msgData.texto(pontuacao, totalPerguntas)}</p>
                <p>${mensagemNivel}</p>
            `;

            elementoResultado.scrollIntoView({ behavior: 'smooth' });
            
            // Ocultar o botão de verificar após o uso
            const btn = document.querySelector(`#conteudo-${lang} .btn-verificar`);
            if(btn) btn.style.display = 'none';
        }

        // Inicializa a página com o idioma padrão
        document.addEventListener('DOMContentLoaded', () => {
             mudarIdioma('pt');
        });
    </script>
</body>
</html>
